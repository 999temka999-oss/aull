:root{
  --bg:#0f172a; --fg:#e2e8f0; --muted:#94a3b8; --card:#111827; --accent:#22c55e;

  /* safe-area устройства */
  --sat: env(safe-area-inset-top, 0px);
  --sab: env(safe-area-inset-bottom, 0px);
  --sal: env(safe-area-inset-left, 0px);
  --sar: env(safe-area-inset-right, 0px);

  /* регулируемые параметры */
  --hud-h: 40px;
  --hud-top-gap: 40px;
  --bottom-h: 50px;
  --bottom-gap: 5px;

  /* bg-слой */
  --bg-image: none;
}

*{box-sizing:border-box}
html,body{height:100%; background:var(--bg); color:var(--fg); margin:0; font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}

/* запреты прокрутки/жестов/выделений */
.no-scroll{overflow:hidden; touch-action:none;}
.no-select{-webkit-user-select:none; user-select:none; -webkit-touch-callout:none}

.app{
  position:fixed; inset:0; height:100dvh; width:100vw;
  overflow:hidden; background:var(--bg);
}

/* Фон на весь экран под всем */
.app::before{
  content:"";
  position:absolute; inset:0;
  z-index:0;
  background: var(--bg-image) center center / cover no-repeat;
}

/* Сцена между панелями */
.scene{
  position:absolute; left:0; right:0;
  top:calc(var(--sat) + var(--hud-top-gap) + var(--hud-h));
  bottom:calc(var(--sab) + var(--bottom-gap) + var(--bottom-h));
  z-index:1;
}
#field{ position:absolute; inset:0; width:100%; height:100%; display:block; background:transparent; }

/* HUD */
.hud{
  position:absolute;
  left:calc(var(--sal) + 12px); right:calc(var(--sar) + 12px);
  top:calc(var(--sat) + var(--hud-top-gap));
  height:var(--hud-h);
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 16px; z-index:3;
}

/* Нижняя панель */
.bottom{
  position:absolute;
  left:calc(var(--sal) + 12px); right:calc(var(--sar) + 12px);
  bottom:calc(var(--sab) + var(--bottom-gap));
  min-height:var(--bottom-h);
  display:grid; grid-template-columns:repeat(4,1fr); gap:8px;
  padding:12px; z-index:3;
}

/* Gate */
.gate{
  position:absolute; inset:calc(var(--sat) + 8px) calc(var(--sar) + 12px) calc(var(--sab) + 8px) calc(var(--sal) + 12px);
  display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; z-index:5;
}

/* Общие элементы */
.card{border-radius:16px; background:#111827cc; backdrop-filter: blur(6px); border:1px solid #1f2937; padding:16px}
.btn{cursor:pointer; border:none; border-radius:12px; padding:12px 14px; background:var(--accent); color:#052e16; font-weight:700}
.muted{color:var(--muted)} .hidden{display:none}
.row{display:flex; align-items:center} .gap{gap:10px} .small{font-size:12px}
.avatar{width:36px; height:36px; border-radius:999px; background:#1f2937}
.title{font-weight:700}

/* убираем полосы прокрутки */
::-webkit-scrollbar{display:none}
